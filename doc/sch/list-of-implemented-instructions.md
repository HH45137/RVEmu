# 实现的指令的列表

## RV32I

### 操作数

|      名字       |                            示例                             |                  注释                  |
|:-------------:|:---------------------------------------------------------:|:------------------------------------:|
|    32个寄存器     |                          x0到x31                           |      在RISC-V中，只能对寄存器中的数据执行算术运算       |
| $2^{61}$ 个存储字 | Memory[0], Memory[8], ....., Memory[18446744073709551608] | 只能被数据传输指令访问，RISC-V使用字节寻址，因此顺序双字访问相差8 |

### 汇编指令

|  类别   |      指令      |        示例         |              含义              |            注释             |   
|:-----:|:------------:|:-----------------:|:----------------------------:|:-------------------------:|
| 算术运算  |      加       |  add x5, x6, x7   |         x5 = x6 + x7         |             加             |
| 算术运算  |      减       |  sub x5, x6, x7   |         x5 = x6 - x7         |             减             |
| 算术运算  |     立即数加     |  addi x5, x6, 14  |         x5 = x6 + 20         |           直接加常数           |
| 数据传输  |     取双字      |   ld x5, 40(x6)   |     x5 = Memory[x6 + 40]     |        从存储器读双字到寄存器        |
| 数据传输  |     存双字      |   sd x5, 40(x6)   |     Memory[x6 + 40] = x5     |        从寄存器存双字到存储器        |
| 数据传输  |      取字      |   lw x5, 40(x6)   |     x5 = Memory[x6 + 40]     |        从存储器读字到寄存器         |
| 数据传输  |    取无符号字     |  lwu x5, 40(x6)   |     x5 = Memory[x6 + 40]     |       从存储器读无符号字到寄存器       |
| 数据传输  |      存字      |   sw x5, 40(x6)   |     Memory[x6 + 40] = x5     |        从寄存器存字到存储器         |
| 数据传输  |     取半字      |   lh x5, 40(x6)   |     x5 = Memory[x6 + 40]     |        从存储器读半字到寄存器        |
| 数据传输  |    取无符号半字    |  lhu x5, 40(x6)   |     x5 = Memory[x6 + 40]     |      从存储器读无符号半字到寄存器       |
| 数据传输  |     存半字      |   sh x5, 40(x6)   |     Memory[x6 + 40] = x5     |        从寄存器存半字到存储器        |
| 数据传输  |     取字节      |   lb x5, 40(x6)   |     x5 = Memory[x6 + 40]     |        从存储器读字节到寄存器        |
| 数据传输  |    取无符号字节    |  lbu x5, 40(x6)   |     x5 = Memory[x6 + 40]     |      从存储器读无符号字节到寄存器       |
| 数据传输  |     存字节      |   sb x5, 40(x6)   |     Memory[x6 + 40] = x5     |        从寄存器存字节到存储器        |
| 数据传输  |     取保留字     |   lr.d x5, (x6)   |       x5 = Memory[x6]        |        取原子交换的前半部分         |
| 数据传输  |     存条件字     | sc.d x7, x5, (x6) | Memory[x6] = x5; x7 = 0 or 1 |        存原子交换的后半部分         |
| 数据传输  |    取立即数高位    |  lui x5, 0x12345  |       x5 = 0x12345000        |      取左移12位后的20位立即数       |
| 逻辑运算  |      与       |  and x5, x6, x7   |         x5 = x6 & x7         |            按位与            |
| 逻辑运算  |      或       |   or x5, x6, x7   |        x5 = x6 \| x7         |            按位或            |
| 逻辑运算  |      异或      |  xor x5, x6, x7   |         x5 = x6 ^ x7         |           按位异或            |
| 逻辑运算  |     与立即数     |  andi x5, x6, 20  |         x5 = x6 & 20         |           立即按位与           |
| 逻辑运算  |     或立即数     |  ori x5, x6, 20   |        x5 = x6 \| 20         |           立即按位或           |
| 逻辑运算  |    异或立即数     |  xori x5, x6, 20  |         x5 = x6 ^ 20         |          立即按位异或           |
| 移位操作  |     逻辑左移     |  sll x5, x6, x7   |        x5 = x6 << x7         |        按寄存器给定位数左移         |
| 移位操作  |     逻辑右移     |  srl x5, x6, x7   |        x5 = x6 >> x7         |        按寄存器给定位数右移         |
| 移位操作  |     算数右移     |  sra x5, x6, x7   |        x5 = x6 >> x7         |       按寄存器给定位数算数右移        |
| 移位操作  |   逻辑左移立即数    |  slli x5, x6, 3   |         x5 = x6 << 3         |        按立即数给定位数左移         |
| 移位操作  |   逻辑右移立即数    |  srli x5, x6, 3   |         x5 = x6 >> 3         |        按立即数给定位数右移         |
| 移位操作  |   算数右移立即数    |  srai x5, x6, 3   |         x5 = x6 >> 3         |       按立即数给定位数算数右移        |
| 条件分支  |    相等即跳转     |  beq x5, x6, 100  | if (x5 == x6) goto  PC + 100 |    若寄存器数值相等则跳转到PC相对地址     |
| 条件分支  |    不等即跳转     |  bne x5, x6, 100  | if (x5 != x6) goto  PC + 100 |    若寄存器数值不等则跳转到PC相对地址     |
| 条件分支  |    小于即跳转     |  blt x5, x6, 100  | if (x5 < x6) goto  PC + 100  |   若寄存器数值结果小于则跳转到PC相对地址    |
| 条件分支  |   大于等于即跳转    |  bge x5, x6, 100  | if (x5 >= x6) goto  PC + 100 |  若寄存器数值结果大于等于则跳转到PC相对地址   |
| 条件分支  |   无符号小于即跳转   | bltu x5, x6, 100  | if (x5 < x6) goto  PC + 100  |  若寄存器无符号数值结果小于则跳转到PC相对地址  |
| 条件分支  |  无符号大于等于即跳转  | bgeu x5, x6, 100  | if (x5 >= x6) goto  PC + 100 | 若寄存器无符号数值结果大于等于则跳转到PC相对地址 |
| 无条件跳转 |    跳转并链接     |    jal x1, 100    |  x1 = PC + 4; goto PC + 100  |        用于PC相关的过程调用        |
| 无条件跳转 | 跳转并链接（寄存器地址） |  jal x1, 100(x5)  |  x1 = PC + 4; goto x5 + 100  |       用于过程返回，非直接调用        |
